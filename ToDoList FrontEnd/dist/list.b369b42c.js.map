{"version":3,"sources":["js/list.js"],"names":["token","window","addEventListener","Parse","initialize","serverURL","User","current","location","href","getAllItems","document","querySelector","createItem","title","value","ToDoList","Object","extend","toDoList","set","setACL","ACL","save","then","item","console","log","error","alert","message","query","Query","find","results","createCard","data","innerHTML","ul","createElement","forEach","li","para","get","id","attributes","checked","savedItem","textContent","className","deleteButton","type","equalTo","first","result","destroy","appendChild"],"mappings":"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","file":"list.b369b42c.js","sourceRoot":"..\\src","sourcesContent":["let token = null;\r\n\r\nwindow.addEventListener('load', () => {\r\n  Parse.initialize('myAppId');\r\n  Parse.serverURL = 'http://localhost:1337/parse';\r\n  if (!Parse.User.current()) {\r\n    window.location.href = 'login.html';\r\n  } else {\r\n    getAllItems();\r\n  }\r\n});\r\n\r\ndocument.querySelector('#createItemButton').addEventListener('click', () => {\r\n  createItem();\r\n});\r\n\r\nfunction createItem() {\r\n  let title = document.querySelector('#createItem').value;\r\n  const ToDoList = Parse.Object.extend('ToDoList');\r\n  const toDoList = new ToDoList();\r\n  toDoList.set('title', title);\r\n  toDoList.set('checked', false);\r\n  toDoList.setACL(new Parse.ACL(Parse.User.current()));\r\n  toDoList.save().then(\r\n    item => {\r\n      console.log(item);\r\n      getAllItems();\r\n    },\r\n    error => {\r\n      alert('Failed to create new object, with error code: ' + error.message);\r\n    },\r\n  );\r\n}\r\n\r\nasync function getAllItems() {\r\n  const ToDoList = Parse.Object.extend('ToDoList');\r\n  const query = new Parse.Query(ToDoList);\r\n\r\n  const results = await query.find();\r\n  createCard(results);\r\n}\r\n\r\nasync function createCard(data) {\r\n  document.querySelector('#list').innerHTML = '';\r\n\r\n  let ul = document.createElement('ul');\r\n  data.forEach(item => {\r\n    let li = document.createElement('li');\r\n    let para = document.createElement('p');\r\n\r\n    para.addEventListener('click', () => {\r\n      const ToDoList = Parse.Object.extend('ToDoList');\r\n      const query = new Parse.Query(ToDoList);\r\n      query.get(item.id).then(item => {\r\n        item.set('checked', !item.attributes.checked);\r\n        item.save().then(savedItem => {\r\n          console.log(savedItem);\r\n          getAllItems();\r\n        });\r\n      });\r\n    });\r\n\r\n    para.textContent = item.attributes.title;\r\n    para.className = 'item1';\r\n    if (item.attributes.checked) {\r\n      para.className = 'checkedItem';\r\n    }\r\n    let deleteButton = document.createElement('button');\r\n    deleteButton.type = 'button';\r\n    deleteButton.textContent = 'X';\r\n\r\n    deleteButton.addEventListener('click', async () => {\r\n      const ToDoList = Parse.Object.extend('ToDoList');\r\n      const query = new Parse.Query(ToDoList);\r\n      query.equalTo('objectId', item.id);\r\n      let result = await query.first();\r\n      result.destroy().then(\r\n        item => {\r\n          console.log(item);\r\n          getAllItems();\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        },\r\n      );\r\n    });\r\n    li.appendChild(para);\r\n    li.appendChild(deleteButton);\r\n    ul.appendChild(li);\r\n  });\r\n  document.querySelector('#list').appendChild(ul);\r\n}\r\n"]}